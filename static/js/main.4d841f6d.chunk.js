(this["webpackJsonpit-kama1"]=this["webpackJsonpit-kama1"]||[]).push([[0],{108:function(e,t,a){"use strict";a.d(t,"d",(function(){return x})),a.d(t,"c",(function(){return N})),a.d(t,"b",(function(){return M})),a.d(t,"e",(function(){return w}));var n=a(11),s=a.n(n),i=a(18),r=a(43),c=a(3),o=a(19),u=a(61),l="FOLLOW",d="UNFOLLOW",m="SET_PEOPLE",j="SET_PAGES_COUNT",b="SET_ACTIVE_PAGE",p="TOGGLE_IS_FETCHING",f="TOGGLE_DISABLED",h={peopleData:[],pageSize:10,totalPeopleCount:0,activePage:1,isFetching:!1,disabled:[]},O=function(e){return{type:l,id:e}},g=function(e){return{type:d,id:e}},x=function(e){return{type:b,value:e}},_=function(e){return{type:p,bool:e}},v=function(e,t){return{type:f,bool:e,id:t}},N=function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(_(!0)),a.next=3,o.c.getUsers(e,t);case 3:i=a.sent,n(_(!1)),n((r=i.items,{type:m,people_data:r})),n((s=i.totalCount,{type:j,count:s}));case 7:case"end":return a.stop()}var s,r}),a)})));return function(e){return a.apply(this,arguments)}}()},C=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0,a)),e.next=3,n;case 3:0===e.sent.data.resultCode&&t(i(a)),t(v(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),M=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(a,e,o.c.followUser(e),O);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(a,e,o.c.unfollowUser(e),g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)({},e),{},{peopleData:Object(u.b)(e.peopleData,t.id,"id",{followed:!0})});case d:return Object(c.a)(Object(c.a)({},e),{},{peopleData:Object(u.b)(e.peopleData,t.id,"id",{followed:!1})});case m:return Object(c.a)(Object(c.a)({},e),{},{peopleData:Object(r.a)(t.people_data)});case j:return Object(c.a)(Object(c.a)({},e),{},{totalPeopleCount:t.count});case b:return Object(c.a)(Object(c.a)({},e),{},{activePage:t.value});case p:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.bool});case f:return Object(c.a)(Object(c.a)({},e),{},{disabled:t.bool?[].concat(Object(r.a)(e.disabled),[t.id]):[e.disabled.filter((function(e){return e!=t.id}))]});default:return e}}},13:function(e,t,a){e.exports={sidebar:"Aside_sidebar__Je0sC",item:"Aside_item__2yvjh",ico:"Aside_ico__1TucO",link:"Aside_link__xF1bO",title:"Aside_title__O7IOv"}},130:function(e,t,a){},137:function(e,t,a){e.exports={button:"Button_button__hqJtR"}},138:function(e,t,a){e.exports={messages:"Messages_messages__14IpJ"}},139:function(e,t,a){e.exports={container:"NewPost_container__38s0F"}},140:function(e,t,a){e.exports={preloader:"Preloader_preloader__3Ai3A"}},17:function(e,t,a){e.exports={input:"FormsControls_input__2djaX",inputError:"FormsControls_inputError__n-Qwv",errorMessage:"FormsControls_errorMessage__x-6Ts",textarea:"FormsControls_textarea__2upII",textareaContainer:"FormsControls_textareaContainer__3C8ph",textareaError:"FormsControls_textareaError__12_pN",messageInput:"FormsControls_messageInput__2LhyU",newMessageContainer:"FormsControls_newMessageContainer__4wyNc"}},19:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(135),s=n.create({withCredentials:!0,headers:{"API-KEY":"66ac6b9a-22ef-4bd7-aad2-324b64bf3872"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUser:function(e){return s.delete("follow/".concat(e))},followUser:function(e){return s.post("follow/".concat(e))},getUser:function(e){return s.get("profile/".concat(e))}},r={getUser:function(e){return s.get("profile/".concat(e))},getStatus:function(e){return s.get("profile/status/".concat(e))},updateStatus:function(e){return s.put("profile/status",{status:e})},uploadAvatar:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},updateContactInfo:function(e){return s.put("profile",e)}},c={authMe:function(){return s.get("auth/me")},getMe:function(e){return s.get("profile/".concat(e))},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s.post("auth/login",{email:e,password:t,rememberMe:a})},logout:function(){return s.delete("auth/login")}}},21:function(e,t,a){e.exports={chatSection:"Chat_chatSection__39xa8",head:"Chat_head__rydHn",headItem:"Chat_headItem__2hGwC",backLink:"Chat_backLink__INfO7",companionName:"Chat_companionName__ojwpy",companionAva:"Chat_companionAva__vPaSu",chatContainer:"Chat_chatContainer__37rwx",messageContainer:"Chat_messageContainer__3Ice8",newMessageContainer:"Chat_newMessageContainer__3cB01",sendButton:"Chat_sendButton__6Q7g-"}},249:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},26:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__WpzsM",title:"Login_title__3sCBT",loginForm:"Login_loginForm__oEXmK",rememberMeInputContainer:"Login_rememberMeInputContainer__2RSrm",rememberMeCheckbox:"Login_rememberMeCheckbox__2dmm9",rememberMeText:"Login_rememberMeText__37feA",input:"Login_input__30xJW",buttonContainer:"Login_buttonContainer__3kEXt",link:"Login_link__3t60A",errorMessage:"Login_errorMessage__lw_uj"}},29:function(e,t,a){e.exports={post:"Post_post__3LNh1",personal:"Post_personal__1AhZz",ava:"Post_ava__2Fd2N",info:"Post_info__2TovZ",author:"Post_author__bCQN8",date:"Post_date__p61rA",content:"Post_content__34gzL",feedback:"Post_feedback__Wie6A",like:"Post_like__1DBYl",likeCounter:"Post_likeCounter__3RsBR"}},298:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,300)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))},r=a(10),c=a(134),o=a(133),u=a(11),l=a.n(u),d=a(18),m=a(43),j=a(3),b=a(19),p=a(25),f=a(61),h="ADD_NEW_POST",O="SET_USER_PROFILE",g="SET_STATUS",x="TOGGLE_IS_FETCHING",_="TOGGLE_CHANGE_CONTACTS_EDIT_MODE",v="UPLOAD_AVATAR_SUCCESS",N={postData:[{id:1,name:"Bodrov Sergey",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad, alias animi architecto beatae esse ipsa laborum minima necessitatibus nesciunt nihil odio officia placeat quisquam repellendus rerum sint voluptatum! Commodi dicta dignissimos distinctio earum esse, est eveniet facere iste laboriosam quas repellendus, sit voluptatibus! Adipisci, architecto autem, commodi, consequatur culpa cum itaque laudantium minima nesciunt nobis quas rem sequi veniam? Ad cupiditate deleniti explicabo libero odit? Aut dolor, dolore fugit nihil odio possimus qui quisquam tempora velit? A animi assumenda consequuntur corporis cumque deserunt dolorem eaque enim est excepturi magnam maxime minima molestiae, nisi, odio pariatur possimus provident quibusdam quis quod repudiandae sint totam ut veniam voluptatum? Amet animi, aperiam commodi cum cumque, delectus deleniti dignissimos dolorem enim eum explicabo facilis impedit iste labore laboriosam libero magni maxime minus nemo nihil nisi nulla provident quam quisquam reiciendis sed sint soluta tempora tenetur totam vel veniam vitae voluptatum. Ab accusantium alias amet commodi delectus doloribus eos exercitationem fuga hic inventore itaque laboriosam, molestias neque nostrum nulla odio optio pariatur perspiciatis porro praesentium quae quod rem totam? Aliquam amet, beatae dicta doloribus eaque earum, error, eveniet facilis ipsa ipsum maiores natus nobis obcaecati possimus quaerat quod ratione recusandae repellat sed tempore vel!",likes:"280"},{id:2,name:"Bodrov Sergey",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad, alias animi architecto beatae esse ipsa laborum minima necessitatibus nesciunt nihil odio officia placeat quisquam repellendus rerum sint voluptatum! Commodi dicta dignissimos distinctio earum esse, est eveniet facere iste laboriosam quas repellendus, sit voluptatibus! Adipisci, architecto autem, commodi, consequatur culpa cum itaque laudantium minima nesciunt nobis quas rem sequi veniam? Ad cupiditate deleniti explicabo libero odit? Aut dolor, dolore fugit nihil odio possimus qui quisquam tempora velit? A animi assumenda consequuntur corporis cumque deserunt dolorem eaque enim est excepturi magnam maxime minima molestiae, nisi, odio pariatur possimus provident quibusdam quis quod repudiandae sint totam ut veniam voluptatum? Amet animi",likes:"10"},{id:3,name:"Bodrov Sergey",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad, alias animi architecto beatae esse ipsa laborum minima necessitatibus nesciunt nihil odio officia placeat quisquam repellendus rerum sint voluptatum! Commodi dicta dignissimos distinctio earum esse, est eveniet facere iste laboriosam ",likes:"40"}],profile:null,isFetching:!1,status:"",contactsEditMode:!1},C=function(e){return{type:g,status:e}},M=function(e){return{type:x,bool:e}},w=function(e){return{type:v,ava:e}},k=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0)),t.next=3,b.b.getUser(e);case 3:n=t.sent,a(M(!1)),a((s=n.data,{type:O,profile:s}));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(t){t(function(e){return{type:_,bool:e}}(e))}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var a={id:4,name:"Bodrov Sergey",text:t.post,likes:0};return Object(j.a)(Object(j.a)({},e),{},{postData:[a].concat(Object(m.a)(e.postData))});case O:return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case g:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case x:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.bool});case _:return Object(j.a)(Object(j.a)({},e),{},{contactsEditMode:t.bool});case v:return Object(j.a)(Object(j.a)({},e),{},{profile:Object(j.a)(Object(j.a)({},e.profile),{},{photos:t.ava})});default:return e}},S="SEND_MESSAGE",P={messagesData:[{id:"1",name:"Ivan Ivanov",lastMessageContext:"Hi, how are you?",lastMessageDate:"08.04.2021",unreadNum:"2"},{id:"2",name:"Julia Samoylova",lastMessageContext:"What r u doing?",lastMessageDate:"08.04.2021",unreadNum:"10"},{id:"3",name:"Ivan Abramov",lastMessageContext:"Great",lastMessageDate:"08.04.2021",unreadNum:"4"},{id:"4",name:"Max Semenov",lastMessageContext:"And you?",lastMessageDate:"08.04.2021",unreadNum:"1"},{id:"5",name:"Petr Petrov",lastMessageContext:"Me",lastMessageDate:"08.04.2021",unreadNum:"0"}],chatData:[{date:"",text:"hi",sender:"2"},{date:"",text:"hello",sender:"1"},{date:"",text:"how is your react studying?",sender:"2"},{date:"",text:"is`s good, thanks",sender:"1"}]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var a={date:"",text:t.message,sender:"1"};return Object(j.a)(Object(j.a)({},e),{},{chatData:[].concat(Object(m.a)(e.chatData),[a])});default:return e}},E=a(108),D="SET_AUTH_USER_DATA",T="TOGGLE_IS_FETCHING",L="TOGGLE_IS_AUTH",F="SET_CARD",q={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,card:null},B=function(e){return{type:T,bool:e}},U=function(e){return{type:L,bool:e}},G=function(e,t,a){return{type:D,data:{userId:e,email:t,login:a}}},W=function(e){return{type:F,card:e}},z=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,b.a.authMe();case 3:if(a=e.sent,t(G(a.data.data.id,a.data.data.email,a.data.data.login)),1!==a.data.resultCode){e.next=9;break}t(B(!1)),e.next=15;break;case 9:return e.next=11,b.a.getMe(a.data.data.id);case 11:n=e.sent,t(W(n.data)),t(B(!1)),t(U(!0));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.logout();case 2:0==e.sent.data.resultCode&&(t(G(null,null,null)),t(U(!1)),t(W(null)),t(B(!1)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(j.a)(Object(j.a)({},e),t.data);case T:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.bool});case L:return Object(j.a)(Object(j.a)({},e),{},{isAuth:t.bool});case F:return Object(j.a)(Object(j.a)({},e),{},{card:t.card});default:return e}},R="TOGGLE_INITIALIZED",V={initialized:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},X=Object(r.c)({profilePage:y,messagesPage:I,peoplePage:E.a,auth:J,form:o.a,app:K}),Q=Object(r.e)(X,Object(r.a)(c.a));window.__store__=Q;var Y=Q,Z=a(74),$=a.n(Z),ee=(a(249),a(12)),te=a(46),ae=a(47),ne=a(52),se=a(51),ie=(a(253),a(254),a(32)),re=a.p+"static/media/Message.bbfaa137.svg",ce=a.p+"static/media/News.a7255fc8.svg",oe=a.p+"static/media/Settings.0b120df2.svg",ue=a.p+"static/media/Music.39b99780.svg",le=a.p+"static/media/People.1e9c04d6.svg",de=a(13),me=a.n(de),je=a(15),be=a(0),pe=function(){return Object(be.jsx)("aside",{className:me.a.sidebar,children:Object(be.jsx)("nav",{children:Object(be.jsxs)("ul",{children:[Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/profile",children:[Object(be.jsx)("img",{src:ie.a,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"Profile"})]})}),Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/messages",children:[Object(be.jsx)("img",{src:re,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"Messages"})]})}),Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/news",children:[Object(be.jsx)("img",{src:ce,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"News"})]})}),Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/people",children:[Object(be.jsx)("img",{src:le,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"People"})]})}),Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/music",children:[Object(be.jsx)("img",{src:ue,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"Music"})]})}),Object(be.jsx)("li",{className:me.a.item,children:Object(be.jsxs)(je.b,{className:me.a.link,to:"/settings",children:[Object(be.jsx)("img",{src:oe,className:me.a.ico}),Object(be.jsx)("span",{className:me.a.title,children:"Settings"})]})})]})})})},fe=a(14),he=(a(257),function(e){return Object(be.jsx)("section",{children:"news"})}),Oe=(a(258),function(e){return Object(be.jsx)("section",{children:"settings"})}),ge=a(21),xe=a.n(ge),_e=a(53),ve=a.n(_e),Ne=function(e){var t;return 1==e.sender?(t=ve.a.myMessage,ve.a.myMessageContainer):(t=ve.a.friendMessage,ve.a.friendMessageContainer),Object(be.jsx)("div",{className:ve.a.messageContainer,children:Object(be.jsx)("div",{className:t,children:e.text})})},Ce=a(131),Me=a(132),we=a(65),ke=a(17),Ae=a.n(ke),ye=function(e){var t=e.input,a=e.meta,n=Object(we.a)(e,["input","meta"]),s=a.touched&&a.error;return Object(be.jsxs)("div",{className:Ae.a.textareaContainer,children:[Object(be.jsx)("textarea",Object(j.a)(Object(j.a)({className:Ae.a.textarea+" "+(s?Ae.a.textareaError:"")},n),t)),s&&Object(be.jsx)("p",{className:Ae.a.errorMessage,children:a.error})]})},Se=function(e){var t=e.input,a=e.meta,n=Object(we.a)(e,["input","meta"]),s=a.touched&&a.error;return Object(be.jsxs)("div",{className:Ae.a.newMessageContainer,children:[Object(be.jsx)("textarea",Object(j.a)(Object(j.a)({className:Ae.a.messageInput+" "+(s?Ae.a.textareaError:"")},n),t)),s&&Object(be.jsx)("p",{className:Ae.a.errorMessage,children:a.error})]})},Pe=function(e){var t=e.input,a=e.meta,n=Object(we.a)(e,["input","meta"]),s=a.touched&&a.error;return Object(be.jsxs)("div",{className:Ae.a.profileInfoContainer,children:[Object(be.jsx)("textarea",Object(j.a)(Object(j.a)({className:Ae.a.profileInfo+" "+(s?Ae.a.textareaError:"")},n),t)),s&&Object(be.jsx)("p",{className:Ae.a.errorMessage,children:a.error})]})},Ie=function(e){var t=e.input,a=e.meta,n=Object(we.a)(e,["input","meta"]),s=a.touched&&a.error;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{children:Object(be.jsx)("input",Object(j.a)(Object(j.a)({className:Ae.a.input+" "+(s?Ae.a.inputError:"")},n),t))}),s&&Object(be.jsx)("p",{className:Ae.a.errorMessage,children:a.error})]})},Ee=function(e){if(!e)return"Field is required"},De=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Te=a(137),Le=a.n(Te),Fe=function(e){var t=e.verticalPadding,a=e.horizontalPadding;return e.verticalPadding||(t=8,a=16),Object(be.jsx)("button",{className:Le.a.button,style:{paddingTop:"".concat(t,"px"),paddingBottom:"".concat(t,"px"),paddingLeft:"".concat(a,"px"),paddingRight:"".concat(a,"px")},children:e.value})},qe=De(100),Be=Object(Me.a)({form:"newMessage"})((function(e){return Object(be.jsxs)("form",{onSubmit:e.handleSubmit,className:xe.a.newMessageContainer,children:[Object(be.jsx)(Ce.a,{component:Se,validate:[qe],name:"message",placeholder:"Message..."}),Object(be.jsx)("div",{className:xe.a.sendButton,children:Object(be.jsx)(Fe,{value:"Send"})})]})})),Ue=function(e){var t=e.chatData.map((function(e){return Object(be.jsx)(Ne,{text:e.text,dete:e.date,sender:e.sender})}));return Object(be.jsxs)("section",{className:xe.a.chatSection,children:[Object(be.jsxs)("div",{className:xe.a.head,children:[Object(be.jsx)(je.b,{to:"/messages",className:xe.a.headItem,children:Object(be.jsx)("p",{className:xe.a.backLink,children:"Back"})}),Object(be.jsx)("div",{className:xe.a.headItem,children:Object(be.jsx)("h1",{className:xe.a.companionName,children:"Ivan Ivanov"})}),Object(be.jsx)("div",{className:xe.a.headItem,children:Object(be.jsx)("img",{className:xe.a.companionAva,src:ie.a})})]}),Object(be.jsx)("div",{className:xe.a.chatContainer,children:Object(be.jsx)("div",{className:xe.a.messageContainer,children:t})}),Object(be.jsx)(Be,{onSubmit:function(t){e.updateWithNewMessage(t.message)}})]})},Ge=Object(ee.b)((function(e){return{chatData:e.messagesPage.chatData}}),{updateWithNewMessage:function(e){return function(t){t(function(e){return{type:S,message:e}}(e)),t(Object(p.a)("newMessage"))}}})(Ue),We=a(138),ze=a.n(We),He=a(34),Je=a.n(He),Re=function(e){var t=Je.a.counterUnread_active;return 0==e.unreadNum&&(t=Je.a.counterUnread),Object(be.jsxs)(je.b,{to:"/messages/chat/"+e.id,className:Je.a.container,children:[Object(be.jsx)("img",{src:ie.a,className:Je.a.ava}),Object(be.jsxs)("div",{className:Je.a.personal,children:[Object(be.jsx)("h2",{className:Je.a.name,children:e.name}),Object(be.jsx)("span",{className:Je.a.date,children:e.date}),Object(be.jsx)("p",{className:Je.a.preview,children:e.lastMessage}),Object(be.jsx)("button",{className:t,children:e.unreadNum})]})]})},Ve=function(e){var t=e.messagesData.map((function(e){return Object(be.jsx)(Re,{name:e.name,lastMessage:e.lastMessageContext,date:e.lastMessageDate,unreadNum:e.unreadNum,id:e.id},e.id)}));return Object(be.jsx)("section",{className:ze.a.messages,children:t})},Ke=function(e){return{isAuth:e.auth.isAuth}},Xe=Object(r.d)((function(e){var t=function(t){Object(ne.a)(n,t);var a=Object(se.a)(n);function n(){return Object(te.a)(this,n),a.apply(this,arguments)}return Object(ae.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(be.jsx)(e,Object(j.a)({},this.props)):Object(be.jsx)(fe.a,{to:"/login"})}}]),n}(s.a.Component);return Object(ee.b)(Ke)(t)}),Object(ee.b)((function(e){return{messagesData:e.messagesPage.messagesData}}),{}))(Ve),Qe=(a(130),a(139)),Ye=a.n(Qe),Ze=De(1e3),$e=Object(Me.a)({form:"newPost"})((function(e){return Object(be.jsxs)("form",{onSubmit:e.handleSubmit,className:Ye.a.container,children:[Object(be.jsx)(Ce.a,{component:ye,validate:[Ze],placeholder:"What`s new for today?",name:"newPostText"}),Object(be.jsx)(Fe,{value:"Send"})]})})),et=Object(ee.b)((function(e){return{postData:e.profilePage.postData}}),{updateWithNewPost:function(e){return function(t){t(function(e){return{type:h,post:e}}(e)),t(Object(p.a)("newPost"))}}})((function(e){return Object(be.jsx)($e,{onSubmit:function(t){e.updateWithNewPost(t.newPostText)}})})),tt=a(79),at=a.n(tt),nt=a(29),st=a.n(nt),it=a.p+"static/media/Avatar.c5edef80.jpg",rt=a.p+"static/media/like.665ede1a.svg",ct=function(e){return Object(be.jsxs)("div",{className:st.a.post,children:[Object(be.jsxs)("div",{className:st.a.personal,children:[Object(be.jsx)("img",{className:st.a.ava,src:it}),Object(be.jsxs)("div",{className:st.a.info,children:[Object(be.jsx)("h3",{className:st.a.author,children:e.name}),Object(be.jsx)("span",{className:st.a.date,children:"05.04.2021"})]})]}),Object(be.jsx)("div",{className:st.a.content,children:e.text}),Object(be.jsxs)("div",{className:st.a.feedback,children:[Object(be.jsx)("img",{src:rt,className:st.a.like}),Object(be.jsx)("span",{className:st.a.likeCounter,children:e.likes})]})]})},ot=function(e){var t=e.postData.map((function(e){return Object(be.jsx)(ct,{name:e.name,text:e.text,likes:e.likes},e.id)}));return Object(be.jsxs)("section",{className:at.a.posts,children:[Object(be.jsx)("h2",{className:at.a.title,children:"My posts"}),Object(be.jsx)("div",{className:at.a.container,children:t})]})},ut=Object(ee.b)((function(e){return{postData:e.profilePage.postData}}),{})(ot),lt=a(6),dt=a.n(lt),mt=a(42),jt=a(64),bt=function(e){var t=Object(n.useState)(!1),a=Object(jt.a)(t,2),s=a[0],i=a[1],r=Object(n.useState)(e.status),c=Object(jt.a)(r,2),o=c[0],u=c[1],l=function(){i(!0)};return Object(n.useEffect)((function(){u(e.status)}),[e.status]),e.isOwner?Object(be.jsx)("section",{children:s?Object(be.jsx)("div",{children:Object(be.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(o)},className:dt.a.inputStatus,value:o,onChange:function(e){u(e.currentTarget.value)}})}):Object(be.jsx)("div",{children:Object(be.jsx)("p",{onClick:l,className:dt.a.status,children:e.status})})}):Object(be.jsx)("div",{children:Object(be.jsx)("p",{onClick:l,className:dt.a.status,children:e.status})})},pt=function(e){var t=e.contactLabel;return Object(be.jsxs)("div",{className:dt.a.contactContainer,children:[Object(be.jsx)("div",{className:dt.a.itemPoint,children:t+":"}),Object(be.jsx)(Ce.a,{className:dt.a.itemInput,placeholder:t,component:Ie,name:"contacts."+t})]})},ft=Object(Me.a)({form:"contactInfo"})((function(e){return Object(be.jsxs)("form",{onSubmit:e.handleSubmit,className:dt.a.infoContainer,children:[Object(be.jsx)("div",{className:dt.a.contactContainer,children:Object(be.jsx)(Ce.a,{className:dt.a.itemInput,placeholder:"Full Name",component:Ie,name:"fullName"})}),Object.keys(e.profile.contacts).map((function(e){return Object(be.jsx)(pt,{contactLabel:e},e)})),Object(be.jsxs)("div",{className:dt.a.contactContainer,children:[Object(be.jsx)("div",{className:dt.a.itemPoint,children:"Are you looking for a job?"}),Object(be.jsxs)("div",{className:dt.a.itemPoint,children:[Object(be.jsx)(Ce.a,{className:dt.a.checkboxProfileInfo,component:"input",type:"checkbox",name:"lookingForAJob"}),Object(be.jsx)("span",{className:dt.a.checkboxDescription,children:"Yes"})]})]}),Object(be.jsxs)("div",{className:dt.a.contactContainer,children:[Object(be.jsx)("div",{className:dt.a.itemPoint,children:"Job looking status:"}),Object(be.jsx)(Ce.a,{className:dt.a.itemInput,placeholder:"Job looking status",component:Ie,name:"lookingForAJobDescription"})]}),Object(be.jsx)("div",{className:dt.a.aboutMeLabel,children:"About me:"}),Object(be.jsx)(Ce.a,{placeholder:"aboutMe",className:dt.a.aboutMeTextarea,component:Pe,name:"aboutMe"}),Object(be.jsx)("div",{className:dt.a.buttonSubmitContainer,children:Object(be.jsx)(Fe,{value:"Save"})}),Object(be.jsx)("div",{className:dt.a.errorMessage,children:e.error?e.error:""})]})})),ht=s.a.memo((function(e){window.scrollTo(0,0);var t=function(e,t){return e.contacts[t][0]+e.contacts[t][1]+e.contacts[t][2]!="htt"?"http://"+e.contacts[t]:e.contacts[t]};return!e.isFetching&&e.profile?Object(be.jsxs)("section",{className:dt.a.badge,children:[Object(be.jsxs)("div",{className:dt.a.avaContainer,children:[Object(be.jsx)("img",{src:e.profile.photos.large||ie.a,className:dt.a.ava}),e.isOwner&&e.contactsEditMode&&Object(be.jsxs)("div",{children:[Object(be.jsx)("label",{htmlFor:"avaUploader",className:dt.a.addAvaLabel,children:"Add new avatar"}),Object(be.jsx)("input",{className:dt.a.addAva,id:"avaUploader",type:"file",onChange:function(t){t.target.files.length&&e.uploadAvatar(t.target.files[0])}})]})]}),Object(be.jsxs)("div",{className:dt.a.personal,children:[!e.contactsEditMode&&Object(be.jsx)("h1",{className:dt.a.name,children:e.profile.fullName}),Object(be.jsx)(bt,{isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus}),e.contactsEditMode?Object(be.jsx)(ft,{initialValues:e.profile,profile:e.profile,onSubmit:e.onSubmitContacts}):Object(be.jsxs)("div",{className:dt.a.infoContainer,children:[Object.keys(e.profile.contacts).filter((function(t){return e.profile.contacts[t]&&t})).map((function(a){return Object(be.jsx)(Ot,{contactTitle:a,contactValue:t(e.profile,a)},a)})),Object(be.jsxs)("ul",{className:dt.a.contactContainer,children:[Object(be.jsx)("li",{className:dt.a.itemPoint,children:"Job looking status:"}),Object(be.jsx)("li",{className:dt.a.itemPoint,children:e.profile.lookingForAJobDescription||"Not looking for a job"})]}),e.profile.aboutMe&&Object(be.jsxs)("ul",{className:dt.a.contactContainer,children:[Object(be.jsx)("li",{className:dt.a.itemPoint,children:"About me:"}),Object(be.jsx)("li",{className:dt.a.itemPoint,children:e.profile.aboutMe})]})]}),e.isOwner&&!e.contactsEditMode&&Object(be.jsx)("div",{className:dt.a.changeProfileButton,onClick:function(){e.toggleContactsEditMode(!e.contactsEditMode)},children:"Change profile"})]})]}):Object(be.jsx)("div",{className:dt.a.preloaderContainer,children:Object(be.jsx)(mt.a,{height:90})})})),Ot=function(e){var t=e.contactTitle,a=e.contactValue;return Object(be.jsxs)("ul",{className:dt.a.contactContainer,children:[" ",Object(be.jsx)("li",{className:dt.a.itemPoint,children:t+":"}),Object(be.jsxs)("li",{className:dt.a.itemPoint,children:[Object(be.jsx)("a",{className:dt.a.links,href:a,target:"_blank",children:"click"})," "]})]})},gt=ht,xt=Object(ee.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,isAuth:e.auth.isAuth,status:e.profilePage.status,contactsEditMode:e.profilePage.contactsEditMode}}),{updateStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(C(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadAvatar:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.b.uploadAvatar(e);case 2:0===(n=t.sent).data.resultCode&&a(w(n.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleContactsEditMode:A,updateContactInfo:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,n){var s,i,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().auth.userId,t.next=3,b.b.updateContactInfo(e);case 3:0===(i=t.sent).data.resultCode?(a(A(!1)),a(k(s))):(r=Object(f.a)(i.data.messages[0]),a(Object(p.b)("contactInfo",Object(j.a)({},r))));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){return Object(be.jsx)(gt,{contactsEditMode:e.contactsEditMode,toggleContactsEditMode:e.toggleContactsEditMode,uploadAvatar:e.uploadAvatar,profile:e.profile,isOwner:e.isOwner,isFetching:e.isFetching,status:e.status,updateStatus:e.updateStatus,onSubmitContacts:function(t){e.updateContactInfo(t)}})})),_t=function(e){return Object(be.jsxs)("section",{children:[Object(be.jsx)(xt,{isOwner:e.isOwner}),e.isOwner&&Object(be.jsx)(et,{}),Object(be.jsx)(ut,{})]})},vt=Object(r.d)(Object(ee.b)((function(e){return{myProfileId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUser:k,getStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.b.getStatus(e);case 2:n=t.sent,a(C(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),fe.f)((function(e){Object(n.useEffect)((function(){t()}),[e.match.params.userId,e.myProfileId]);var t=function(){var t=e.match.params.userId;t||(t=e.myProfileId),t&&(e.getUser(t),e.getStatus(t))};return e.match.params.userId||e.isAuth?Object(be.jsx)(_t,{isOwner:!e.match.params.userId||e.match.params.userId==e.myProfileId}):Object(be.jsx)(fe.a,{to:"/login"})})),Nt=a.p+"static/media/Main-logo.967ee1b0.svg",Ct=a(33),Mt=a.n(Ct),wt=function(e){var t=Object(n.useState)(!1),a=Object(jt.a)(t,2),s=a[0],i=a[1],r=function(){i(!s)};return e.card?Object(be.jsxs)("div",{className:Mt.a.userInfo,onMouseEnter:r,onMouseLeave:r,children:[Object(be.jsx)("h2",{className:Mt.a.fullName,children:e.card.fullName}),Object(be.jsx)("img",{className:Mt.a.userAva,src:e.card.photos.small?e.card.photos.small:ie.a}),s?Object(be.jsx)("div",{children:Object(be.jsx)("div",{className:Mt.a.logout,onClick:e.logout,children:"Logout"})}):Object(be.jsx)(be.Fragment,{})]}):Object(be.jsx)(be.Fragment,{})},kt=function(e){return Object(be.jsxs)("header",{className:Mt.a.header,children:[Object(be.jsx)("img",{src:Nt,alt:"logo",className:Mt.a.img}),Object(be.jsx)("div",{className:Mt.a.loginBlock,children:e.isAuth?Object(be.jsx)(wt,{logout:e.logout,card:e.card}):Object(be.jsx)(be.Fragment,{children:e.isFetching?Object(be.jsx)(mt.a,{height:30}):Object(be.jsx)(je.b,{to:"/login",children:Object(be.jsx)(Fe,{value:"Login"})})})})]})},At=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){return Object(te.a)(this,a),t.apply(this,arguments)}return Object(ae.a)(a,[{key:"render",value:function(){return Object(be.jsx)(kt,Object(j.a)(Object(j.a)({},this.props),{},{logout:this.props.logout,userId:this.props.userId,card:this.props.card}))}}]),a}(s.a.Component),yt=Object(ee.b)((function(e){return{userId:e.auth.userId,isAuth:e.auth.isAuth,card:e.auth.card,isFetching:e.auth.isFetching}}),{logout:H})(At),St=a(26),Pt=a.n(St),It=Object(Me.a)({form:"login"})((function(e){return Object(be.jsxs)("form",{className:Pt.a.loginForm,onSubmit:e.handleSubmit,children:[Object(be.jsx)(Ce.a,{validate:[Ee],placeholder:"Login",component:Ie,name:"login"}),Object(be.jsx)(Ce.a,{validate:[Ee],className:Pt.a.input,placeholder:"Password",type:"password",component:Ie,name:"password"}),Object(be.jsxs)("div",{className:Pt.a.rememberMeInputContainer,children:[Object(be.jsx)(Ce.a,{className:Pt.a.rememberMeCheckbox,component:"input",name:"rememberMe",type:"checkbox"}),Object(be.jsx)("p",{className:Pt.a.rememberMeText,children:"Remember me"})]}),Object(be.jsx)("div",{className:Pt.a.errorMessage,children:e.error?e.error:""}),Object(be.jsxs)("div",{className:Pt.a.buttonContainer,children:[Object(be.jsx)(Fe,{value:"Sign in"}),Object(be.jsx)("a",{href:"https://social-network.samuraijs.com/signUp",target:"_blank",className:Pt.a.link,children:"No account? Sign up"})]})]})})),Et=Object(r.d)(Object(ee.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(d.a)(l.a.mark((function n(s){var i,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.login(e,t,a);case 2:0==(i=n.sent).data.resultCode?s(z()):(r=i.data.messages.length>0?i.data.messages[0]:"Not reserved error",s(Object(p.b)("login",{_error:r})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:H}),fe.f)((function(e){return e.isAuth?Object(be.jsx)(fe.a,{to:"/profile"}):Object(be.jsxs)("section",{className:Pt.a.loginWrapper,children:[Object(be.jsx)("h1",{className:Pt.a.title,children:"Login"}),Object(be.jsx)(It,{onSubmit:function(t){e.login(t.login,t.password,t.rememberMe)}})]})})),Dt=s.a.lazy((function(){return a.e(3).then(a.bind(null,301))})),Tt=function(e){Object(ne.a)(a,e);var t=Object(se.a)(a);function a(){return Object(te.a)(this,a),t.apply(this,arguments)}return Object(ae.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initialized?Object(be.jsxs)("div",{className:"wrapper",children:[Object(be.jsx)(yt,{}),Object(be.jsx)(pe,{}),Object(be.jsxs)("main",{className:"main",children:[Object(be.jsx)(fe.b,{path:"/profile/:userId?",render:function(){return Object(be.jsx)(vt,{})}}),Object(be.jsx)(fe.b,{exact:!0,path:"/messages",render:function(){return Object(be.jsx)(Xe,{})}}),Object(be.jsx)(fe.b,{exact:!0,path:"/login",render:function(){return Object(be.jsx)(Et,{})}}),Object(be.jsx)(fe.b,{path:"/messages/chat",render:function(){return Object(be.jsx)(Ge,{})}}),Object(be.jsx)(fe.b,{path:"/people",render:function(){return Object(be.jsx)(s.a.Suspense,{fallback:Object(be.jsx)(mt.a,{}),children:Object(be.jsx)(Dt,{})})}}),Object(be.jsx)(fe.b,{path:"/news",render:function(){return Object(be.jsx)(he,{})}}),Object(be.jsx)(fe.b,{path:"/settings",render:function(){return Object(be.jsx)(Oe,{})}})]})]}):Object(be.jsx)("div",{className:"backWrapper",children:Object(be.jsx)(mt.a,{})})}}]),a}(s.a.Component),Lt=Object(r.d)(fe.f,Object(ee.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(e){var t=e(z());Promise.all([t]).then((function(){e({type:R})}))}}}))(Tt),Ft=function(){return Object(be.jsx)(je.a,{children:Object(be.jsx)(ee.a,{store:Y,children:Object(be.jsx)(Lt,{})})})};$.a.render(Object(be.jsx)(Ft,{}),document.getElementById("root")),i()},32:function(e,t,a){"use strict";t.a=a.p+"static/media/Profile.81d7b418.svg"},33:function(e,t,a){e.exports={header:"Header_header__2lVts",img:"Header_img__KVWh2",loginBlock:"Header_loginBlock__1vXk9",userInfo:"Header_userInfo__3OAXl",fullName:"Header_fullName__3iPFd",userAva:"Header_userAva__1PNCd",logout:"Header_logout__2rTys"}},34:function(e,t,a){e.exports={container:"Dialog_container__2Jv2o",ava:"Dialog_ava__22uFX",personal:"Dialog_personal__3DN1T",name:"Dialog_name__3WNkh",date:"Dialog_date__1E5Q0",preview:"Dialog_preview__2Itpz",counterUnread_active:"Dialog_counterUnread_active__1MCV4",counterUnread:"Dialog_counterUnread__3Od-t"}},42:function(e,t,a){"use strict";a(1);var n=a(140),s=a.n(n),i=a.p+"static/media/download-anim.44fe423f.svg",r=a(0);t.a=function(e){return Object(r.jsx)("img",{src:i,className:s.a.preloader,style:{height:e.height}})}},53:function(e,t,a){e.exports={messageContainer:"Message_messageContainer__3SMon",myMessage:"Message_myMessage__1G6r3",friendMessage:"Message_friendMessage__23o3b"}},6:function(e,t,a){e.exports={badge:"Badge_badge__1S57F",ava:"Badge_ava__25rb7",personal:"Badge_personal__2yhK_",name:"Badge_name__vn8Ly",status:"Badge_status__3Cley",changeProfileButton:"Badge_changeProfileButton__vVgKW",inputStatus:"Badge_inputStatus__3DIq4",infoContainer:"Badge_infoContainer__2MQzI",contactContainer:"Badge_contactContainer__3qOo4",itemPoint:"Badge_itemPoint__3P5T7",itemInput:"Badge_itemInput__2Fywu",links:"Badge_links__298Tm",itemAnswer:"Badge_itemAnswer__2huXn",list:"Badge_list__2TlH4",preloaderContainer:"Badge_preloaderContainer__2OdK-",buttonSubmitContainer:"Badge_buttonSubmitContainer__iQLpT",checkboxProfileInfo:"Badge_checkboxProfileInfo__2pRKw",aboutMeTextarea:"Badge_aboutMeTextarea__386ga",aboutMeLabel:"Badge_aboutMeLabel__1v_8D",errorMessage:"Badge_errorMessage__irxuj",addAvaLabel:"Badge_addAvaLabel__25MD0",avaContainer:"Badge_avaContainer__2Yzyq",addAva:"Badge_addAva__VZGcU"}},61:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(3),s=function(e,t,a,s){return e.map((function(e){return e[a]===t?Object(n.a)(Object(n.a)({},e),s):e}))},i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The AboutMe field is required. (AboutMe)",t="",a="",n=!1,s=e.indexOf("("),i=0;i<s-1;i++)t+=e[i];if(e.includes("->")){n=!0;for(var r=(e=e.toLowerCase()).indexOf("->"),c=e.length,o=r+2;o<c-1;o++)a+=e[o]}else for(var u=0,l=e.indexOf(")"),d=s+1;d<l;d++)0===u?a=e[d].toLowerCase():a+=e[d],u+=1;var m={};return n?(m.contacts={},m.contacts[a]=t):m[a]=t,m}},79:function(e,t,a){e.exports={posts:"Posts_posts__Tg1NS",title:"Posts_title__21csR",container:"Posts_container__2aCEm"}}},[[298,1,2]]]);
//# sourceMappingURL=main.4d841f6d.chunk.js.map